{"meta":{"title":"Xxu","subtitle":"Xxuの个人博客","description":"记录学习过程，分享个人经验","author":"Xxu","url":"https://jxblogs.com","root":"/"},"pages":[{"title":"404","date":"2021-11-06T14:16:48.000Z","updated":"2021-11-12T03:48:53.061Z","comments":true,"path":"404.html","permalink":"https://jxblogs.com/404.html","excerpt":"","text":""},{"title":"404","date":"2021-11-06T14:16:48.000Z","updated":"2021-11-06T14:17:08.282Z","comments":true,"path":"404/index.html","permalink":"https://jxblogs.com/404/index.html","excerpt":"","text":""},{"title":"放松一下","date":"2021-11-06T09:45:25.000Z","updated":"2021-11-12T03:19:39.880Z","comments":true,"path":"List/index.html","permalink":"https://jxblogs.com/List/index.html","excerpt":"","text":"影音资源共享"},{"title":"archives","date":"2021-11-06T09:45:25.000Z","updated":"2021-11-12T03:19:09.696Z","comments":true,"path":"archives/index.html","permalink":"https://jxblogs.com/archives/index.html","excerpt":"","text":""},{"title":"about","date":"2021-11-06T09:45:43.000Z","updated":"2021-11-06T09:45:54.018Z","comments":true,"path":"about/index.html","permalink":"https://jxblogs.com/about/index.html","excerpt":"","text":""},{"title":"统计","date":"2021-11-06T09:45:25.000Z","updated":"2021-11-12T03:19:59.069Z","comments":true,"path":"census/index.html","permalink":"https://jxblogs.com/census/index.html","excerpt":"","text":""},{"title":"categories","date":"2021-11-06T09:44:56.000Z","updated":"2021-11-06T09:45:10.575Z","comments":true,"path":"categories/index.html","permalink":"https://jxblogs.com/categories/index.html","excerpt":"","text":""},{"title":"友链","date":"2019-07-19T08:42:10.000Z","updated":"2021-11-12T02:06:46.966Z","comments":true,"path":"friends/index.html","permalink":"https://jxblogs.com/friends/index.html","excerpt":"","text":""},{"title":"留言板","date":"2021-11-06T09:46:02.000Z","updated":"2021-11-12T03:15:53.543Z","comments":true,"path":"contact/index.html","permalink":"https://jxblogs.com/contact/index.html","excerpt":"","text":"畅所欲言 在这里可以留下你的足迹，欢迎在下方留言，欢迎交换友链，一起交流学习！ 友链 Xxuの友链信息 博客名称: Xxuの博客 博客网址: http://www.jxblogs.com 博客头像: https://s1.ax1x.com/2020/05/17/YRWsYT.png 博客介绍: The harder you work, the luckier you will be"},{"title":"posts","date":"2021-11-25T04:16:07.000Z","updated":"2021-11-25T04:16:07.123Z","comments":true,"path":"posts/index.html","permalink":"https://jxblogs.com/posts/index.html","excerpt":"","text":""},{"title":"资源分享","date":"2021-11-06T09:45:25.000Z","updated":"2021-11-12T03:19:47.534Z","comments":true,"path":"resource/index.html","permalink":"https://jxblogs.com/resource/index.html","excerpt":"","text":""},{"title":"tags","date":"2021-11-06T09:45:25.000Z","updated":"2021-11-06T15:16:40.978Z","comments":true,"path":"tags/index.html","permalink":"https://jxblogs.com/tags/index.html","excerpt":"","text":""},{"title":"相册","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/index.html","permalink":"https://jxblogs.com/List/galleries/index.html","excerpt":"","text":""},{"title":"视频","date":"2019-08-10T08:41:10.000Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/movies/index.html","permalink":"https://jxblogs.com/List/movies/index.html","excerpt":"","text":""},{"title":"听听音乐","date":"2019-07-19T08:40:27.000Z","updated":"2021-11-12T02:06:46.911Z","comments":true,"path":"List/tools/index.html","permalink":"https://jxblogs.com/List/tools/index.html","excerpt":"","text":""},{"title":"听听音乐","date":"2019-07-19T08:40:27.000Z","updated":"2021-11-12T02:06:46.911Z","comments":true,"path":"List/music/index.html","permalink":"https://jxblogs.com/List/music/index.html","excerpt":"","text":""},{"title":"乖巧小狗","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/乖巧小狗/index.html","permalink":"https://jxblogs.com/List/galleries/%E4%B9%96%E5%B7%A7%E5%B0%8F%E7%8B%97/index.html","excerpt":"","text":""},{"title":"二次元风","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/二次元风/index.html","permalink":"https://jxblogs.com/List/galleries/%E4%BA%8C%E6%AC%A1%E5%85%83%E9%A3%8E/index.html","excerpt":"","text":""},{"title":"动漫插画","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/动漫插画/index.html","permalink":"https://jxblogs.com/List/galleries/%E5%8A%A8%E6%BC%AB%E6%8F%92%E7%94%BB/index.html","excerpt":"","text":""},{"title":"动漫风景","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/动漫风景/index.html","permalink":"https://jxblogs.com/List/galleries/%E5%8A%A8%E6%BC%AB%E9%A3%8E%E6%99%AF/index.html","excerpt":"","text":""},{"title":"动漫人物","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/动漫人物/index.html","permalink":"https://jxblogs.com/List/galleries/%E5%8A%A8%E6%BC%AB%E4%BA%BA%E7%89%A9/index.html","excerpt":"","text":""},{"title":"城市风光","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/城市风光/index.html","permalink":"https://jxblogs.com/List/galleries/%E5%9F%8E%E5%B8%82%E9%A3%8E%E5%85%89/index.html","excerpt":"","text":""},{"title":"呆萌猫咪","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/呆萌猫咪/index.html","permalink":"https://jxblogs.com/List/galleries/%E5%91%86%E8%90%8C%E7%8C%AB%E5%92%AA/index.html","excerpt":"","text":""},{"title":"清新花卉","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/清新花卉/index.html","permalink":"https://jxblogs.com/List/galleries/%E6%B8%85%E6%96%B0%E8%8A%B1%E5%8D%89/index.html","excerpt":"","text":""},{"title":"炫酷跑车","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/炫酷跑车/index.html","permalink":"https://jxblogs.com/List/galleries/%E7%82%AB%E9%85%B7%E8%B7%91%E8%BD%A6/index.html","excerpt":"","text":""},{"title":"甜美食品","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/甜美食品/index.html","permalink":"https://jxblogs.com/List/galleries/%E7%94%9C%E7%BE%8E%E9%A3%9F%E5%93%81/index.html","excerpt":"","text":""},{"title":"璀璨星空","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/璀璨星空/index.html","permalink":"https://jxblogs.com/List/galleries/%E7%92%80%E7%92%A8%E6%98%9F%E7%A9%BA/index.html","excerpt":"","text":""},{"title":"自然风景","date":"2021-11-12T02:06:46.901Z","updated":"2021-11-12T02:06:46.901Z","comments":true,"path":"List/galleries/自然风景/index.html","permalink":"https://jxblogs.com/List/galleries/%E8%87%AA%E7%84%B6%E9%A3%8E%E6%99%AF/index.html","excerpt":"","text":""}],"posts":[{"title":"SQL漏洞-类型&请求方法注入","slug":"SQL漏洞-类型&请求方法注入","date":"2021-11-25T17:05:17.000Z","updated":"2021-11-25T17:13:22.010Z","comments":true,"path":"posts/fd334196.html","link":"","permalink":"https://jxblogs.com/posts/fd334196.html","excerpt":"","text":"SQL漏洞-类型&amp;请求方法注入 sql注入漏洞的危害：拖库 提交参数类型1、数字类型select * from user where id=1 2、字符类型select * from user where name=’xiaoming’ 当进行数据提交时，如果提交类型是字符型，则必须加单引号或双引号来进行一个闭合 而数字型可加可不加 3、搜索类型select * from user where name like ‘%xiaoming%’ 有时候一张表中数据很多，需要精准查找，可以使用%加引号闭合搜索，只要有xiaoming的信息都会被搜索出来 4、JSON类型json是post提交方式中的一种数据交互格式 JSON格式： json={\"name\":\"xiaoming\" \"age\":\"18\"} SQL语句干扰符号许多网站为了防止sql注入，在网页代码中加入了干扰sql语句的干扰符号。 使得sql语句被判定为某个提交参数而不会被执行，这些干扰符号包括 1.’(单引号) 2.”(双引号) 3.%(百分号) 4.)(小括号) 5.}(大括号) 等等，具体干扰方式还需要看写法 靶场演示环境：参数字符型注入测试 sqlilabs Less-1,2,3,4 第一关 常规手段先用and 1=2查看页面结果 发现页面不影响，说明后台进行了拦截或者过滤，此时我们通过查看网页源代码发现，查询语句为 $sql=\"SELECT * FROM users WHERE id='$id' LIMIT 0,1\"; 我们将注入语句1 and 1=2带入到源码中，可得 $sql=\"SELECT * FROM users WHERE id='1 and 1=2' LIMIT 0,1\"; 发现此时的注入语句被当作字符类型的提交参数提交上去了，1 and 1=2只是一个参数 不会被运行，所以绕过则需要加上单引号’进行闭合，此时注入语句为1’ and 1=2 由于后面还有单引号’和LIMIT 0,1会影响到结果的输出，所以在语句末加上–+或者#将其注释，带入源码： $sql=\"SELECT * FROM users WHERE id='1' and 1=2--+' LIMIT 0,1\"; 闭合后，页面回显错误说明可能存在注入点，接下来就可以联合查询获取数据了 第三关 可以看到，第三关同样进行了过滤，页面不影响，看看他的源码是怎么过滤的 $sql=\"SELECT * FROM users WHERE id=('$id') LIMIT 0,1\"; 通过观察语句发现，外面加了一个小括号，所以要让前面闭合，则语句变为 1’) and 1=2–+，带入源码： $sql=\"SELECT * FROM users WHERE id=('1') and 1=2--+') LIMIT 0,1\"; 结果成功绕过过滤 第四关用第三关的语句注入第四关，发现没了效果 说明第四关采用的不同的过滤方式，查看源码： $id = '\"' . $id . '\"'; $sql=\"SELECT * FROM users WHERE id=($id) LIMIT 0,1\"; 发现原先的id变成了加上双引号的”id”，此时先用双引号再用小括号从里到外将其闭合，则语句变为 1”) and 1=2–+，带入源码： $sql=\"SELECT * FROM users WHERE id=(\"1\") and 1=2--+\") LIMIT 0,1\"; 结果成功绕过过滤 总结遇到这样的过滤语句，只有成功将提交参数闭合才能使得后面的语句成功执行，不过真实环境中我们是无法知晓网页具体的过滤方式的，只能靠一个个猜测尝试，或者代码审计来知晓他的闭合方式，所以比较麻烦。 请求方法 GET、POST、COOKIE、REQUEST、HTTP头部等 GET请求传输的数据量限制在2KB左右(所以很多文件上传或者文件下载都是通过POST去提交的) GET只要在url上，就能接收到请求，POST则显示错误 REQUEST请求不管是GET和POST都可以 HTTP报文头部各个参数都能注入，比如User-Agent、Cookie等 GET和POST的区别GET和POST是网页中最常见的两种请求方式，我们经常可以利用其特性进行sql注入测试 GET接下来看看两种方式有什么区别，这是一个网页的源代码 意思是用get的方式将g传递给get这个变量，并且将get输出显示在页面上 此时传递参数g=123查看结果 发现页面成功输出123，说明网页在使用get的方式提交数据时，通过修改url中的提交参数 是能将数据成功回显在页面上的，此时将网页源码替换为post POST 再传递参数p=123查看结果 发现当请求方式为post的时候，通过url来提交参数已经行不通了 那么此时我们可以通过一些插件或者软件来代替手工修改url进行post提交 此时我们将需要提交的参数放在底下的框框中，点击Execute进行提交，结果成功显示在页面上 GET &amp;&amp; POST 此时修改网页源码，同时使用get与post两种请求方式，并使用Burpsuite截取网页数据包 截取到数据包如图所示，将其转到重发器，并且同时请求g=123与p=456 将其发送，查看返回结果 得到结果为123456，说明当网页同时存在GET与POST两种提交方式时 GET的请求方式是要优先与POST的，优先使用GET进行传参 所以当我们进行注入测试时，需要注意请求方法是GET还是POST，有时候页面往往没有什么显示结果 那就有可能是使用POST的请求方式来提交数据的，这时候就可以利用软件或者插件来代替手工注入 REQUEST 此时将网页请求方式改为request，测试结果 结果发现当请求方式为request时无论时GET还是POST都可以接收到请求 靶场演示POST数据提交注入测试第十一关 在输入框中输入用户名admin，密码admin 发现输入的数据回显到了页面上，说明我们输入的数据被进行了一个提交 此时我们用Burpsuite进行抓包，来看看网页使用什么方式将数据提交上去的 发现提交方式为POST，这种方式无法通过url来注入，既然通过POST来提交数据 那我们就可以通过修改POST的值来进行注入 由于网页接收了username和password的数据，所以两个地方都可以注入，通过观察源码 发现是用单引号进行闭合的，我们闭合后进行注入尝试获取列数 发现结果不是3，那么只能是2了 修改后再次发送 此时页面成功回显出1和2，注入成功 COOKIE数据提交注入测试第二十关 页面输入数据进行提交，查看结果 可以看得出这个页面提取了COOKIE信息，COOKEI我的理解是验证用户登录的一个凭据 登录时，会在本地缓存里留下COOKIE，包括一些账户密码信息，下次登录时就无需再次输入 此时抓个包看一下 发现网页通过GET的请求方式获取到了COOKIE信息，此时提交的是COOKIE里的数据 所以我们可以通过修改提交的COOKIE来进行注入 通过观察源码得知使用单引号闭合，我们闭合后进行注入尝试 结果成功回显，需要注意的是，有时候用–+进行注释不一定有用，可以换成#再试试 HTTP头部参数数据注入测试十八关 发现接收的是浏览器的User Agent，我们同样可以在UA处进行注入，由于步骤一样，就不多演示了 参数JSON数据注入测试JSON 是存储和交换文本信息的语法，是轻量级的文本数据交换格式。类似xml，但JSON 比 XML 更小、更快，更易解析，在网页中抓包经常能抓到一些JSON格式的数据包 类似这样的JSON格式的数据包，说明网页对这个JSON数据进行了一个接收，我们搭建一个环境测试一下 网页接收的JSON格式是这样的：json={“username”:”admin”}，源码中使用单引号闭合 那我们提交的数据也得按照JSON的格式来，先单引号闭合，再猜测列数，最后联合查询，成功注入 参考博客：https://www.cnblogs.com/shley/p/14737017.html","categories":[{"name":"-web渗透","slug":"web渗透","permalink":"https://jxblogs.com/categories/web%E6%B8%97%E9%80%8F/"}],"tags":[{"name":"web渗透","slug":"web渗透","permalink":"https://jxblogs.com/tags/web%E6%B8%97%E9%80%8F/"},{"name":"SQL注入","slug":"SQL注入","permalink":"https://jxblogs.com/tags/SQL%E6%B3%A8%E5%85%A5/"}],"author":"Xxu"},{"title":"SQL漏洞-基础注入测试","slug":"SQL漏洞-基础注入测试","date":"2021-11-25T04:23:46.000Z","updated":"2021-11-25T04:37:16.693Z","comments":true,"path":"posts/e8474e34.html","link":"","permalink":"https://jxblogs.com/posts/e8474e34.html","excerpt":"","text":"SQL漏洞-基础注入测试 sql注入漏洞的危害：拖库 数据库结构(以MySQL数据库为例)数据库A 表名 列名 数据 数据库B 表名 列名 数据 如何判断注入点 且 and 或 or 非 not 异或 xor 真且真 = 真 真且假 = 假 真或假 = 真 ​ 此时可以观察网页url，例如/?id=1或者/?s=这样带有提交信息的地方就很有可能存在注入点，通过修改提交的信息来进行sql注入测试 ​ 例如：url最后为/?id = 1 此时在后面添加and测试 ​ and 1=1 页面正常&nbsp;and 1=2 页面错误 ==表示可能存在注入点== ​ and 1=2 ==表示页面404或页面不影响,可能后台有检测，没有sql漏洞== 常规注入方式1.猜解列名数量&nbsp;&nbsp;&nbsp;&nbsp;在id=1 后面加上order by 3 如果页面正常，表示当前数据库表的列名数量为&gt;=3，如果页面错误，表示列名数量&lt;3，此时再改为order by 2，如果页面正常显示，就代表列名数量为2，就是当前表只有两列 2.进行联合查询联合查询的意思就是在搜索当前表的信息之后，再增加一行联合查询的信息 表达式：union select 例如sql语句为：select * from users，返回结果： id user password 1 xiaoming 123 2 zhangsan abc 此时进行联合查询：select * from users union select 1,2,3，结果为： id user password 1 xiaoming 123 2 zhangsan abc 1 2 3 此时就可以将1，2，3替换为我们想要的数据，在页面回显出来 例如可以替换成： user()：用户名 version()：mysql版本 database()：数据库名 @@datadir：数据库路径 @@plugin_dir：插件位置 load_file：文件路径 @@basedir MYSQL：安装路径 current_user()：当前用户 system_user()：系统用户 @@version_compile_os：操作系统版本 ==注意：联合查询的数量必须和列名数量一致，不然会回显不出来== 必懂知识点 1、mysql5.0版本以上，会自带一个数据库information_schema，里面存着所有数据名，所有表名，所有列名，这时候就可以利用这个特性，去查找相对应数据库下的表名和列名数据，其中高版本包括5.0以上，低版本5.0以下 2、数据库符号”.”，表示下一级，如 CMS.user表示CMS数据库下的user表，但是如果数据库名称带有.例如数据库名称为74cmsv3.4那么再用一个.user就失效了，因为只会解析前面那个. 3、各种语句 information_schema.tables：表示记录所有数据库的所有表名的表 information_schema.columns：表示记录所有数据库的所有列名的表 table_name：表名 column_name：列名 table_schema：数据库名 注释符号：–+ , # 限制查询的结果：LIMIT语句进行控制，Limit 0,1表示 0开始显示1条数据，可以修改起始位置0改变输出结果，例如对a的查询结果为a={1,2,3,4}，进行limit限制Limit 0,1，意思是从第0个数据开始，返回1个数据，结果为a={1},Limit 1,2返回的结果就是a={2,3} 如果在数据库中select * from users union select 1,2,3 加上Limit 0,1就代表从0行起，显示1行信息 id user password 1 xiaoming 123 案例实验环境：墨者靶场 分析：此时url没发现注入点，我们进入公告页面尝试找到更多信息 发现数据提交处，尝试1=2看看页面是否正常 页面回显错误，很有可能存在注入点，第一步，猜测列名，输入order by 5，查看结果 页面显示空白，说明列数小于5，接着尝试order by 4 此时页面显示正常，说明列名数量为4 那么进行第二步联合查询，在id=1 后加上 and 1=2，1是真，1=2是假，真且假为假，此时再进行联合查询union select 1,2,3,4那么前面假的数据就不会回显而是回显后面联合查询到的数据 此时发现其中的2，3成功被回显到了页面上，那么我们就可以通过修改2，3来回显出我们想要的数据 首先获取版本信息，发现数据库版本在5.0以上可以使用内置库information_schema 那么就可以通过information_schema来获取数据库名称，将2替换为database()，成功回显出数据库名称为： mozhe_Discuz_StormGroup 接下来需要知道的是当前表的表名 information_schema.tables：表示记录所有数据库的所有表名的表 其中有一列为table_name：表名，我们此时就是要获取table_name,表达式为： union select 1,table_name,3,4 from information_schema.tables 但是这样代表查询的是所有数据库的表名，所以我们还需要指定当前的数据库table_schema，此时表达式为： union select 1,table_name,3,4 from information_schema.tables where table_schema=\"mozhe_Discuz_StormGroup\" 获取到当前表名为：StormGroup_member，不过大多数数据库不仅仅只有一个表，想要回显所有的表名，我们还有一条语句叫group_concat可以把所有表的信息拼接在一块 group_concat(str1,str2,…)：连接一个组的所有字符串，并以逗号分割每一条数据，显示数据 此时发现有这么两个表：StormGroup_member,notice，这个notice应该就是刚刚的公告了，所以这个表就忽略，我们就看StormGroup_member 知道了数据库名，表名，接下来就是获取列名了 将table_name改为column_name，将记录所有表名的表information_schema.tables改为所有记录列名的表information_schema.columns 此时获取到列名有：id,name,password,status,id,title,content,time 此时可以看到关键字眼name，password，我们将这两列数据回显出来，此时表达式为： union select 1,name,password,4 from StormGroup_member 成功获取到 name：mozhe password：356f589a7df439f6f744ff19bb8092c0 这个password与md5加密方式很像，将其进行MD5解密得到 密码为：dsan13 返回页面尝试登录 结果显示用户被禁用，说明得用别的用户名和密码，我们用limit 1,1来回显出表中的第二行信息，获取到第二个账户 用户名：mozhe 密码：4297c0549e4db41f6e3d29f1c7793e2c 解密后：269118 此时我们再次用密码登录系统：成功进入系统后台，获取到key为：mozhef6578b1bf1f43a1c6951fd2068f","categories":[{"name":"-web渗透","slug":"web渗透","permalink":"https://jxblogs.com/categories/web%E6%B8%97%E9%80%8F/"}],"tags":[{"name":"web渗透","slug":"web渗透","permalink":"https://jxblogs.com/tags/web%E6%B8%97%E9%80%8F/"},{"name":"SQL注入","slug":"SQL注入","permalink":"https://jxblogs.com/tags/SQL%E6%B3%A8%E5%85%A5/"}],"author":"Xxu"},{"title":"根据IP查找对应交换机端口(IP地址溯源)","slug":"根据IP查找对应交换机端口(IP地址溯源)","date":"2021-11-11T02:06:40.000Z","updated":"2021-11-12T03:17:34.221Z","comments":true,"path":"posts/651def0f.html","link":"","permalink":"https://jxblogs.com/posts/651def0f.html","excerpt":"","text":"项目现场中需要修改某个IP终端连接的VLAN时，不知道连接的是哪台交换机哪个端口，所以需要常常需要对IP地址进行端口溯源 例如：需要查看IP：29.206.33.211所在交换机端口 1、登录核心交换机，查看ARP表JDS-HX-S8610E#show arp | in 29.206.33.211 Internet 29.206.33.211 4 0002.0000.be2f arpa VLAN 206 2、复制对应的mac地址，并查看mac地址表JDS-HX-S8610E#show mac add 0002.0000.be2f Vlan MAC Address Type Interface ---------- -------------------- -------- ------------------- 206 0002.0000.be2f DYNAMIC AggregatePort 9 发现此时be2f连接的口是Port9，此时在核心交换机的show run中找到port-group 9所在的接口 3、用邻居表找到对应端口所连接的交换机JDS-HX-S8610E#show lldp nei Capability codes: (R) Router, (B) Bridge, (T) Telephone, (C) DOCSIS Cable Device (W) WLAN Access Point, (P) Repeater, (S) Station, (O) Other System Name Local Intf Port ID Capability Aging-time ErDaoMenLou-2F-S2952-01 Gi1/1/1 Gi0/51 B, R 1minutes 37seconds YiHaoJieDuSuShe-1F-HJ-S5750 Gi1/1/2 Gi1/0/12 B, R 1minutes 33seconds XiYiLou-4F-S2928-01 Gi1/1/4 Gi0/28 B, R 1minutes 44seconds HuoFang-1F-S2928-01 Gi1/1/5 Gi0/27 B, R 1minutes 58seconds BanGongLou-1F-S2928-01 Gi1/1/6 Gi0/27 B, R 1minutes 44seconds BanGongLou-2F-S2952-01 Gi1/1/7 Gi0/52 B, R 1minutes 51seconds BanGongLou-3F-S2952-01 Gi1/1/8 Gi0/51 B, R 1minutes 52seconds BanGongLou-4F-S2952-01 Gi1/1/9 Gi0/52 B, R 1minutes 59seconds BanGongLou-5F-S2928-01 Gi1/1/10 Gi0/28 B, R 1minutes 41seconds BanGongLou-6F-S2928-01 Gi1/1/11 Gi0/27 B, R 1minutes 31seconds ZongHeLou-2F-S2952-03 Gi1/1/12 Gi0/51 B, R 1minutes 50seconds YiDaoMenLou-1F-S2928-01 Gi1/1/13 Gi0/28 B, R 1minutes 36seconds XinLiZhiLiaoLou-2F-S2952-01 Gi1/1/14 Gi0/51 B, R 1minutes 39seconds 发现Gi1/1/7所连接的交换机是BanGongLou-2F-S2952-01，它的IP地址是29.144.33.13 4、telnet进去，再次show mac addJDS-HX-S8610E#telnet 29.144.33.13 Trying 29.144.33.13, 23... User Access Verification Password:*********** BanGongLou-2F-S2952-01&gt;en Password:*********** BanGongLou-2F-S2952-01#show mac add 0002.0000.be2f Vlan MAC Address Type Interface Time ---------- -------------------- -------- ------------------------------ -------------------- 206 0002.0000.be2f DYNAMIC AggregatePort 2 2020-2-14 15:34:28 发现此时be2f连接的口是Port2，并不是具体的接口，所以还需要继续往下找，此时在该交换机show run中找到port-group 2所在的接口 5、重复以上步骤BanGongLou-2F-S2952-01#show lldp nei Capability codes: (R) Router, (B) Bridge, (T) Telephone, (C) DOCSIS Cable Device (W) WLAN Access Point, (P) Repeater, (S) Station, (O) Other System Name Local Intf Port ID Capability Aging-time Unknown Gi0/3 8c16.4549.cc05 57minutes 59seconds Unknown Gi0/3 b025.aa27.c0ea 58minutes 16seconds Unknown Gi0/3 144f.d7c8.2917 45minutes 57seconds BanGongLou-2F-S2952-03 Gi0/47 Gi0/45 B, R 1minutes 49seconds BanGongLou-2F-S2952-03 Gi0/48 Gi0/46 B, R 1minutes 49seconds JDS-HX-S8610E Gi0/51 Gi2/1/7 B, R 1minutes 49seconds JDS-HX-S8610E Gi0/52 Gi1/1/7 B, R 1minutes 42seconds telnet进入BanGongLou-2F-S2952-03 BanGongLou-2F-S2952-03#show mac add 0002.0000.be2f Vlan MAC Address Type Interface Time ---------- -------------------- -------- ------------------------------ -------------------- 206 0002.0000.be2f DYNAMIC AggregatePort 5 2021-8-30 15:15:27 BanGongLou-2F-S2952-03#show lldp nei Capability codes: (R) Router, (B) Bridge, (T) Telephone, (C) DOCSIS Cable Device (W) WLAN Access Point, (P) Repeater, (S) Station, (O) Other System Name Local Intf Port ID Capability Aging-time ZhiHuiZhongXin Gi0/27 Gi0/23 B, R 1minutes 44seconds ZhiHuiZhongXin Gi0/28 Gi0/24 B, R 1minutes 45seconds Unknown Gi0/36 00d8.61e8.a421 49minutes 45seconds Unknown Gi0/39 00d8.61ea.8417 55minutes 31seconds BanGongLou-2F-S2952-01 Gi0/45 Gi0/47 B, R 1minutes 37seconds BanGongLou-2F-S2952-01 Gi0/46 Gi0/48 B, R 1minutes 37seconds BanGongLou-2F-S2952-02 Gi0/47 Gi0/47 B, R 1minutes 47seconds BanGongLou-2F-S2952-02 Gi0/48 Gi0/48 B, R 1minutes 47seconds Total entries displayed: 8 BanGongLou-2F-S2952-03# BanGongLou-2F-S2952-03#telnet 29.144.33.16 Trying 29.144.33.16, 23... User Access Verification Password:*********** ZhiHuiZhongXin&gt;en Password:*********** ZhiHuiZhongXin#show mac add 0002.0000.be2f Vlan MAC Address Type Interface Time ---------- -------------------- -------- ------------------------------ -------------------- 206 0002.0000.be2f DYNAMIC GigabitEthernet 0/5 2021-11-10 0:05:45 最后追溯至ZhiHuiZhongXin交换机上，在这台交换机上show macadd找到了确定的接口，说明就是这个口了，最后所得信息如下： IP：29.206.33.211 对端交换机：ZhiHuiZhongXin 交换机IP： 29.144.33.16 对端端口： GigabitEthernet 0/5 当需要修改vlan时，直接telnet进入交换机对应端口修改即可","categories":[{"name":"网络","slug":"网络","permalink":"https://jxblogs.com/categories/%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"IP","slug":"IP","permalink":"https://jxblogs.com/tags/IP/"},{"name":"交换机","slug":"交换机","permalink":"https://jxblogs.com/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"}],"author":"Xxu"},{"title":"python常用模块熟悉","slug":"python常用模块熟悉","date":"2021-11-06T15:55:55.000Z","updated":"2021-11-12T03:17:34.237Z","comments":true,"path":"posts/54bcc1f6.html","link":"","permalink":"https://jxblogs.com/posts/54bcc1f6.html","excerpt":"","text":"PY常用模块OS: sys： Crypto： BASE64: String： Platform： Time： Random： Paramiko：Kali： 连接不上，打开kali查看22端口是否开放： 发现果然没有开，先关闭kali防火墙 再安装openssh 再次查看，发现22端口已经开启： 再次尝试连接：成功连接 SSH批量爆破： []","categories":[{"name":"-python","slug":"python","permalink":"https://jxblogs.com/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://jxblogs.com/tags/python/"},{"name":"SSH批量爆破","slug":"SSH批量爆破","permalink":"https://jxblogs.com/tags/SSH%E6%89%B9%E9%87%8F%E7%88%86%E7%A0%B4/"}],"author":"Xxu"}],"categories":[{"name":"-web渗透","slug":"web渗透","permalink":"https://jxblogs.com/categories/web%E6%B8%97%E9%80%8F/"},{"name":"网络","slug":"网络","permalink":"https://jxblogs.com/categories/%E7%BD%91%E7%BB%9C/"},{"name":"-python","slug":"python","permalink":"https://jxblogs.com/categories/python/"}],"tags":[{"name":"web渗透","slug":"web渗透","permalink":"https://jxblogs.com/tags/web%E6%B8%97%E9%80%8F/"},{"name":"SQL注入","slug":"SQL注入","permalink":"https://jxblogs.com/tags/SQL%E6%B3%A8%E5%85%A5/"},{"name":"IP","slug":"IP","permalink":"https://jxblogs.com/tags/IP/"},{"name":"交换机","slug":"交换机","permalink":"https://jxblogs.com/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/"},{"name":"python","slug":"python","permalink":"https://jxblogs.com/tags/python/"},{"name":"SSH批量爆破","slug":"SSH批量爆破","permalink":"https://jxblogs.com/tags/SSH%E6%89%B9%E9%87%8F%E7%88%86%E7%A0%B4/"}]}